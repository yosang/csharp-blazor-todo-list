@page "/todo"
@rendermode InteractiveServer

<div>

@* Count returns the lenth of a list
    If we pass it a predicate (bool fn) it will return the count of the elements that meet the condition
 *@
<h1>Todo (@todos.Count((todo) => !todo.IsDone))</h1> 

    <ul>
        @if (todos.Count == 0)
        {
            <p>Nothing to do</p>
        } else {
            @foreach (var todo in todos)
            {
                <input type="checkbox" @bind="todo.IsDone"/>
                <li>@todo.Title</li>
            }
        }
    </ul>
    <input placeholder="Something to do" @bind="newTodo"/>
    
    <button @onclick="AddTodo">Add todo</button>
</div>


@code{
    private List<TodoItem> todos = [];
    private string newTodo = string.Empty;
    public void AddTodo()
    {
        if(!string.IsNullOrEmpty(newTodo))
        {
        todos.Add(new TodoItem { Title = newTodo });
        newTodo = string.Empty;
        }
    }
}